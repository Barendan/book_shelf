{"ast":null,"code":"import _toConsumableArray from \"/home/majestic/book_shelf/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from 'axios';\nexport function getBooks() {\n  var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var order = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'asc';\n  var list = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var request = axios.get(\"/api/books?limit=\".concat(limit, \"&skip=\").concat(start, \"&order=\").concat(order)).then(function (response) {\n    if (list) {\n      return [].concat(_toConsumableArray(list), _toConsumableArray(response.data));\n    } else {\n      return response.data;\n    }\n  });\n  return {\n    type: 'GET_BOOKS',\n    payload: request\n  };\n}\nexport function getBookWithReviewer(id) {\n  var request = axios.get(\"/api/getBook?id=\".concat(id));\n  return function (dispatch) {\n    request.then(function (_ref) {\n      var data = _ref.data;\n      var book = data;\n      axios.get(\"/api/getReviewer?id=\".concat(book.ownerId)).then(function (_ref2) {\n        var data = _ref2.data;\n        var response = {\n          book: book,\n          reviewer: data\n        };\n        dispatch({\n          type: 'GET_BOOK_W_REVIEWER',\n          payload: response\n        });\n      });\n    });\n  };\n}\nexport function clearBookWithReviewer() {\n  return {\n    type: 'CLEAR_BOOK_W_REVIEWER',\n    payload: {\n      book: {},\n      reviewer: {}\n    }\n  };\n}\nexport function addBook(book) {\n  var request = axios.post('/api/book', book).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'ADD_BOOK',\n    payload: request\n  };\n}\nexport function clearNewBook() {\n  return {\n    type: 'CLEAR_NEWBOOK',\n    payload: {}\n  };\n}\nexport function getUserPosts(userId) {\n  var request = axios.get(\"/api/user_posts?user=\".concat(userId)).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'GET_USER_POSTS',\n    payload: request\n  };\n}\nexport function getBook(id) {\n  var request = axios.get(\"/api/getBook?id=\".concat(id)).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'GET_BOOK',\n    payload: request\n  };\n}\nexport function updateBook(data) {\n  var request = axios.get(\"/api/book_update\", data).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'UPDATE_BOOK',\n    payload: request\n  };\n}\nexport function deleteBook(id) {\n  var request = axios.delete(\"/api/delete_book?id=\".concat(id)).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'DELETE_BOOK',\n    payload: request\n  };\n} // USER ACTIONS\n\nexport function loginUser(_ref3) {\n  var email = _ref3.email,\n      password = _ref3.password;\n  var request = axios.post('/api/login', {\n    email: email,\n    password: password\n  }).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'USER_LOGIN',\n    payload: request\n  };\n}\nexport function auth() {\n  var request = axios.get('/api/auth').then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'USER_AUTH',\n    payload: request\n  };\n}","map":{"version":3,"sources":["/home/majestic/book_shelf/client/src/actions/index.js"],"names":["axios","getBooks","limit","start","order","list","request","get","then","response","data","type","payload","getBookWithReviewer","id","dispatch","book","ownerId","reviewer","clearBookWithReviewer","addBook","post","clearNewBook","getUserPosts","userId","getBook","updateBook","deleteBook","delete","loginUser","email","password","auth"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nexport function getBooks(\n\tlimit = 10,\n\tstart = 0,\n\torder = 'asc',\n\tlist= ''\n){\n\tconst request = axios.get(`/api/books?limit=${limit}&skip=${start}&order=${order}`)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t if(list){\n\t\t\t\t\t\t \treturn [...list,...response.data]\n\t\t\t\t\t\t } else {\n\t\t\t\t\t\t \treturn response.data\n\t\t\t\t\t\t }\n\t\t\t\t\t}\n\t\t\t\t)\n\treturn {\n\t\ttype: 'GET_BOOKS',\n\t\tpayload: request\n\t}\n}\n\n\nexport function getBookWithReviewer(id){\n\tconst request = axios.get(`/api/getBook?id=${id}`)\n\n\treturn (dispatch) => {\n\t\trequest.then(({data})=> {\n\t\t\tlet book = data;\n\t\t\t\n\t\t\taxios.get(`/api/getReviewer?id=${book.ownerId}`)\n\t\t\t.then(({data})=>{\n\t\t\t\tlet response = {\n\t\t\t\t\tbook,\n\t\t\t\t\treviewer:data\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\tdispatch({\n\t\t\t\t\ttype:'GET_BOOK_W_REVIEWER',\n\t\t\t\t\tpayload: response\n\t\t\t\t})\n\t\t\t})\n\n\t\t})\n\t}\n}\n\n\nexport function clearBookWithReviewer(){\n\treturn {\n\t\ttype:'CLEAR_BOOK_W_REVIEWER',\n\t\tpayload:{\n\t\t\tbook:{},\n\t\t\treviewer:{}\n\t\t}\n\t}\n}\n\nexport function addBook(book){\n\tconst request = axios.post('/api/book',book)\n\t\t\t\t.then(response => response.data);\n\n\treturn {\n\t\ttype: 'ADD_BOOK',\n\t\tpayload: request\n\t}\n}\n\nexport function clearNewBook() {\n\treturn {\n\t\ttype: 'CLEAR_NEWBOOK',\n\t\tpayload:{}\n\t}\n}\n\nexport function getUserPosts(userId){\n\tconst request = axios.get(`/api/user_posts?user=${userId}`)\n\t\t\t\t.then(response => response.data )\n\treturn {\n\t\ttype:'GET_USER_POSTS',\n\t\tpayload: request\n\t}\n}\n\nexport function getBook(id){\n\tconst request = axios.get(`/api/getBook?id=${id}`)\n\t\t\t\t.then(response => response.data)\n\n\treturn {\n\t\ttype:'GET_BOOK',\n\t\tpayload:request\n\t}\n}\n\nexport function updateBook(data){\n\tconst request = axios.get(`/api/book_update`,data)\n\t\t\t\t.then(response => response.data)\n\treturn {\n\t\ttype:'UPDATE_BOOK',\n\t\tpayload:request\n\t}\n}\n\nexport function deleteBook(id){\n\tconst request = axios.delete(`/api/delete_book?id=${id}`)\n\t\t\t\t.then(response => response.data)\n\treturn {\n\t\ttype: 'DELETE_BOOK',\n\t\tpayload:request\n\t}\n}\n\n// USER ACTIONS\n\n\nexport function loginUser({email,password}){\n\tconst request = axios.post('/api/login',{email,password})\n\t\t\t\t.then(response => response.data)\n\n\treturn {\n\t\ttype:'USER_LOGIN',\n\t\tpayload: request\n\t}\n}\n\n\nexport function auth(){\n\tconst request = axios.get('/api/auth')\n\t\t\t\t.then(response => response.data);\n\n\treturn { \n\t\ttype: 'USER_AUTH',\n\t\tpayload:request\n\t}\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}