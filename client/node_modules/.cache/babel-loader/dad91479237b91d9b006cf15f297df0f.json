{"ast":null,"code":"import _toConsumableArray from \"/home/majestic/book_shelf/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from 'axios';\nexport function getBooks() {\n  var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var order = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'asc';\n  var list = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var request = axios.get(\"/api/books?limit=\".concat(limit, \"&skip=\").concat(start, \"&order=\").concat(order)).then(function (response) {\n    if (list) {\n      return [].concat(_toConsumableArray(list), _toConsumableArray(response.data));\n    } else {\n      return response.data;\n    }\n  });\n  return {\n    type: 'GET_BOOKS',\n    payload: request\n  };\n}\nexport function getBookWithReviewer(id) {\n  var request = axios.get(\"/api/getBook?id=\".concat(id));\n  return function (dispatch) {\n    request.then(function (_ref) {\n      var data = _ref.data;\n      var book = data;\n      axios.get(\"/api/getReviewer?id=\".concat(book.ownerId)).then(function (_ref2) {\n        var data = _ref2.data;\n        var response = {\n          book: book,\n          reviewer: data\n        };\n        dispatch({\n          type: 'GET_BOOK_W_REVIEWER',\n          payload: response\n        });\n      });\n    });\n  };\n}\nexport function clearBookWithReviewer() {\n  return {\n    type: 'CLEAR_BOOK_W_REVIEWER',\n    payload: {\n      book: {},\n      reviewer: {}\n    }\n  };\n} // USER ACTIONS\n\nexport function loginUser() {\n  return {\n    type: 'USER_LOGIN',\n    payload: null\n  };\n}","map":{"version":3,"sources":["/home/majestic/book_shelf/client/src/actions/index.js"],"names":["axios","getBooks","limit","start","order","list","request","get","then","response","data","type","payload","getBookWithReviewer","id","dispatch","book","ownerId","reviewer","clearBookWithReviewer","loginUser"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,QAAT,GAKN;AAAA,MAJAC,KAIA,uEAJQ,EAIR;AAAA,MAHAC,KAGA,uEAHQ,CAGR;AAAA,MAFAC,KAEA,uEAFQ,KAER;AAAA,MADAC,IACA,uEADM,EACN;AACA,MAAMC,OAAO,GAAGN,KAAK,CAACO,GAAN,4BAA8BL,KAA9B,mBAA4CC,KAA5C,oBAA2DC,KAA3D,GACXI,IADW,CACN,UAAAC,QAAQ,EAAI;AAChB,QAAGJ,IAAH,EAAQ;AACP,0CAAWA,IAAX,sBAAmBI,QAAQ,CAACC,IAA5B;AACA,KAFD,MAEO;AACN,aAAOD,QAAQ,CAACC,IAAhB;AACA;AACF,GAPW,CAAhB;AASA,SAAO;AACNC,IAAAA,IAAI,EAAE,WADA;AAENC,IAAAA,OAAO,EAAEN;AAFH,GAAP;AAIA;AAGD,OAAO,SAASO,mBAAT,CAA6BC,EAA7B,EAAgC;AACtC,MAAMR,OAAO,GAAGN,KAAK,CAACO,GAAN,2BAA6BO,EAA7B,EAAhB;AAEA,SAAO,UAACC,QAAD,EAAc;AACpBT,IAAAA,OAAO,CAACE,IAAR,CAAa,gBAAW;AAAA,UAATE,IAAS,QAATA,IAAS;AACvB,UAAIM,IAAI,GAAGN,IAAX;AAEAV,MAAAA,KAAK,CAACO,GAAN,+BAAiCS,IAAI,CAACC,OAAtC,GACCT,IADD,CACM,iBAAU;AAAA,YAARE,IAAQ,SAARA,IAAQ;AACf,YAAID,QAAQ,GAAG;AACdO,UAAAA,IAAI,EAAJA,IADc;AAEdE,UAAAA,QAAQ,EAACR;AAFK,SAAf;AAKAK,QAAAA,QAAQ,CAAC;AACRJ,UAAAA,IAAI,EAAC,qBADG;AAERC,UAAAA,OAAO,EAAEH;AAFD,SAAD,CAAR;AAIA,OAXD;AAaA,KAhBD;AAiBA,GAlBD;AAmBA;AAGD,OAAO,SAASU,qBAAT,GAAgC;AACtC,SAAO;AACNR,IAAAA,IAAI,EAAC,uBADC;AAENC,IAAAA,OAAO,EAAC;AACPI,MAAAA,IAAI,EAAC,EADE;AAEPE,MAAAA,QAAQ,EAAC;AAFF;AAFF,GAAP;AAOA,C,CAID;;AAGA,OAAO,SAASE,SAAT,GAAoB;AAC1B,SAAO;AACNT,IAAAA,IAAI,EAAC,YADC;AAENC,IAAAA,OAAO,EAAE;AAFH,GAAP;AAIA","sourcesContent":["import axios from 'axios';\n\nexport function getBooks(\n\tlimit = 10,\n\tstart = 0,\n\torder = 'asc',\n\tlist= ''\n){\n\tconst request = axios.get(`/api/books?limit=${limit}&skip=${start}&order=${order}`)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t if(list){\n\t\t\t\t\t\t \treturn [...list,...response.data]\n\t\t\t\t\t\t } else {\n\t\t\t\t\t\t \treturn response.data\n\t\t\t\t\t\t }\n\t\t\t\t\t}\n\t\t\t\t)\n\treturn {\n\t\ttype: 'GET_BOOKS',\n\t\tpayload: request\n\t}\n}\n\n\nexport function getBookWithReviewer(id){\n\tconst request = axios.get(`/api/getBook?id=${id}`)\n\n\treturn (dispatch) => {\n\t\trequest.then(({data})=> {\n\t\t\tlet book = data;\n\t\t\t\n\t\t\taxios.get(`/api/getReviewer?id=${book.ownerId}`)\n\t\t\t.then(({data})=>{\n\t\t\t\tlet response = {\n\t\t\t\t\tbook,\n\t\t\t\t\treviewer:data\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\tdispatch({\n\t\t\t\t\ttype:'GET_BOOK_W_REVIEWER',\n\t\t\t\t\tpayload: response\n\t\t\t\t})\n\t\t\t})\n\n\t\t})\n\t}\n}\n\n\nexport function clearBookWithReviewer(){\n\treturn {\n\t\ttype:'CLEAR_BOOK_W_REVIEWER',\n\t\tpayload:{\n\t\t\tbook:{},\n\t\t\treviewer:{}\n\t\t}\n\t}\n}\n\n\n\n// USER ACTIONS\n\n\nexport function loginUser(){\n\treturn {\n\t\ttype:'USER_LOGIN',\n\t\tpayload: null\n\t}\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}